!function(t,o){"use strict";var e=document.getElementsByTagName("script"),i=e[e.length-1].src.lastIndexOf("/"),s=e[e.length-1].src.slice(0,i);function a(t){for(var o=1;o<arguments.length;o++)t=t.replace("%"+(o-1),arguments[o]);return t}function n(t,e){var i,n,r,l,d,u,c,h,p=o("img",t),m=null,f=null,g=null,v=null,b=null,x=null,z=0,y=0,w=0,W=0,O=0,k=0,H=this;setTimeout((function(){if(null===f){var e=t.width();t.parent().append(a('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud-zoom-loading" >Loading...</div>',e/3,e/2-e/6)),o("cloud-zoom-loading",t.parent()).css("opacity",.5)}}),200);this.removeBits=function(){g&&(g.remove(),g=null),v&&(v.remove(),v=null),b&&(b.remove(),b=null),null!==x&&(x.remove(),x=null),o(".cloud-zoom-loading",t.parent()).remove()},this.destroy=function(){t.data("zoom",null),f&&(f.unbind(),f.remove(),f=null),m&&(m.remove(),m=null),this.removeBits()},this.fadedOut=function(){m&&(m.remove(),m=null),this.removeBits()},this.controlLoop=function(){if(g){var t=u-p.offset().left-.5*l>>0,o=c-p.offset().top-.5*d>>0;t<0?t=0:t>p.outerWidth()-l&&(t=p.outerWidth()-l),o<0?o=0:o>p.outerHeight()-d&&(o=p.outerHeight()-d),g.css({left:t,top:o}),g.css("background-position",-t+"px "+-o+"px"),y=t/p.outerWidth()*r.width>>0,w=o/p.outerHeight()*r.height>>0,O+=(y-O)/e.smoothMove,W+=(w-W)/e.smoothMove,m.css("background-position",-(O>>0)+"px "+-(W>>0)+"px")}z=setTimeout((function(){H.controlLoop()}),30)},this.init2=function(t,o){k++,1===o&&(r=t),2===k&&this.init()},this.init=function(){o(".cloud-zoom-loading",t.parent()).remove();var i=o("<div class='mousetrap' style='background-image:url(\""+s+"/blank.png\")'></div>");f=t.parent().append(i).find(":last"),(f=o(".mousetrap",t.parent())).css({width:p.outerWidth(),height:p.outerHeight(),top:0,left:0,position:"absolute",zIndex:9999}),f.bind("mousemove",this,(function(t){u=t.pageX,c=t.pageY})),f.bind("mouseleave",this,(function(){if(l=p.outerWidth()/r.width*e.zoomWidth,d=p.outerHeight()/r.height*e.zoomHeight,!(parseFloat(o("body").css("width").replace("px",""))<980||l===p.outerWidth()&&d===p.outerWidth()))return clearTimeout(z),g&&g.fadeOut(299),v&&v.fadeOut(299),b&&b.fadeOut(299),m.fadeOut(300,(function(){H.fadedOut()})),!1})),f.bind("mouseenter",this,(function(i){u=i.pageX,c=i.pageY,h=i.data,m&&(m.stop(!0,!1),m.remove());var s=e.adjustX,n=e.adjustY,z=p.outerWidth(),y=p.outerHeight(),w=e.zoomWidth,W=e.zoomHeight;"auto"===e.zoomWidth&&(w=z),"auto"===e.zoomHeight&&(W=y);var O=t.parent();switch(e.position){case"top":n-=W;break;case"right":s+=z;break;case"bottom":n+=y;break;case"left":s-=w;break;case"inside":w=z,W=y;break;default:(O=o("#"+e.position)).length?(w=O.innerWidth(),W=O.innerHeight()):(O=t,s+=z,n+=y)}if(m=O.append(a('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:99;"></div>',s+4,n-4,w,W,r.src)).find(":last"),m=o(".cloud-zoom-big",O),l=r.width>p.outerWidth()?p.outerWidth()/r.width*m.width():p.outerWidth(),d=r.height>p.outerHeight()?p.outerHeight()/r.height*m.height():p.outerHeight(),!(parseFloat(o("body").css("width").replace("px",""))<980||l===p.outerWidth()&&d===p.outerHeight())){p.attr("title")&&e.showTitle&&(m.append(a('<div class="cloud-zoom-title">%0</div>',p.attr("title"))),o(".cloud-zoom-title",m).css("opacity",e.titleOpacity)),o.browser&&o.browser.msie&&o.browser.version<7&&(x=o('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:s,top:n,zIndex:99,width:w,height:W}).insertBefore(m)),m.fadeIn(500);var k=o("body").width(),H=m.offset(),I=p.offset();if(H&&H.left){var Z=I.left;if(k-H.left<Z){var C=m.css("left");m.css({left:"auto",right:C})}else H.left<0&&m.css({right:"auto",left:m.outerWidth()})}g&&(g.remove(),g=null),g=t.append(a("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",l,d)).find(":last"),g=o(".cloud-zoom-lens",t),f.css("cursor",g.css("cursor"));var B=!1;e.tint&&(v=t.append(a('<div class="cloud-zoom-tint" style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',p.outerWidth(),p.outerHeight(),e.tint)).find(":last"),(v=o(".cloud-zoom-tint",t)).css("opacity",e.tintOpacity),B=!0,v.fadeIn(500)),e.softFocus&&(t.append(a('<div class="cloud-zoom-soft" style="position:absolute;display:none;top:0px; left:0px; width:%0px; height:%1px;" />',p.outerWidth()-2,p.outerHeight()-2,e.tint)),(b=o(".cloud-zoom-soft",t)).css("background",'url("'+p.attr("src")+'")'),b.css("background-size","100% 100%"),B=!0,b.fadeIn(500)),B||g.css("opacity",e.lensOpacity),"inside"!==e.position&&g.fadeIn(500),h.controlLoop()}}))},i=new Image,o(i).load((function(){H.init2(this,0)})),i.src=p.attr("src"),n=new Image,o(n).load((function(){H.init2(this,1)})),n.src=t.attr("href")}o(document).ready((function(){o(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()})),o.fn.CloudZoom=function(e){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}return this.each((function(){var i,s;if(o(this).find("img").length>0&&"#"!==o(this).attr("href")){var a=o(this).attr("rel").replace(/\'/g,'"').split(",");t.unique(a),a=o.map(a,(function(t){var e=t.indexOf(":"),i=[t.slice(0,e),t.slice(e+1)];return'"'+o.trim(i[0])+'":'+o.trim(i[1])})),i=o.parseJSON("{"+a.join(",")+"}"),o(this).is(".cloud-zoom")?(o(this).css({position:"relative",display:"block"}),o("img",o(this)).css({display:"block"}),"wrap"!==o(this).parent().attr("id")&&o(this).wrap('<div id="wrap" style="top:0px;position:relative;"></div>'),s=o.extend({},o.fn.CloudZoom.defaults,e),s=o.extend({},s,i),o(this).data("zoom",new n(o(this),s))):o(this).is(".cloud-zoom-gallery")&&(s=o.extend({},i,e),o(this).data("relOpts",s),o(this).bind("click",o(this),(function(t){var e=t.data.data("relOpts");return o("#"+e.useZoom).data("zoom").destroy(),o("#"+e.useZoom).attr("href",t.data.attr("href")),o("#"+e.useZoom+" img").attr("src",t.data.data("relOpts").smallImage).removeAttr("srcset"),o("#"+t.data.data("relOpts").useZoom).CloudZoom(),!1})))}})),this},o.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:"#aa00aa",tintOpacity:"0.5",lensOpacity:"0.5",softFocus:!1,smoothMove:3,showTitle:!0,titleOpacity:"0.5",adjustX:"0px",adjustY:"0px"}}(window._$,window._$);